// "use client";

// import { CartProductType } from "@/app/components/products/ProductCard";
// import {
//   createContext,
//   useCallback,
//   useContext,
//   useEffect,
//   useState,
// } from "react";

// export const useCart = () => {
//   const context = useContext(CartContext);

//   if (context === null) {
//     throw new Error("useCart must be used within a CartContextProvider");
//   }

//   const {
//     cartTotalQty,
//     cartProducts,
//     handleCartQtyIncrease,
//     handleCartQtyDecrease,
//     handleClearCart,
//   } = context;

//   const handleAddProductToCart = useCallback((product: CartProductType) => {
//     if (cartProducts) {
//       const existingIndex = cartProducts.findIndex(
//         (item) => item.id === product.id
//       );

//       if (existingIndex > -1) {
//         // If the product is already in the cart, increase its quantity
//         handleCartQtyIncrease(cartProducts[existingIndex]);
//       } else {
//         // If the product is not in the cart, add it
//         handleCartQtyIncrease(product);
//       }
//     } else {
//       // If the cart is empty, add the product
//       handleCartQtyIncrease(product);
//     }
//   }, [cartProducts, handleCartQtyIncrease]);

//   return {
//     ...context,
//     handleAddProductToCart,
//   };
// };


